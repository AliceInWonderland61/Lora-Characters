<script>
function watchPersona() {
    const personaBox = document.querySelector('textarea[aria-label="hidden_persona"]');
    const chatInput = document.querySelector('textarea[placeholder="Type here‚Ä¶ üçÅ"]');
    if (!personaBox || !chatInput) return;

    let lastVal = personaBox.value;

    setInterval(() => {
        if (personaBox.value !== lastVal) {
            lastVal = personaBox.value;
            applyPersonaStyle(lastVal);
        }
    }, 300);
}

function applyPersonaStyle(p) {
    const input = document.querySelector('textarea[placeholder="Type here‚Ä¶ üçÅ"]');
    if (!input) return;

    input.classList.remove("jarvis-text","sarcastic-text","wizard-text","sarcastic-shake","wizard-embers");

    if (p === "Jarvis") input.classList.add("jarvis-text");
    if (p === "Sarcastic") input.classList.add("sarcastic-text","sarcastic-shake");
    if (p === "Wizard") input.classList.add("wizard-text","wizard-embers");
}

watchPersona();
</script>
